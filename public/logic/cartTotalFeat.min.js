const numCartSum=document.querySelector(".num-cart-sum"),numCartMinus=document.querySelector(".num-cart-minus"),numCartSumShipping=document.querySelector(".num-cart-sum-shipping"),numAmount=document.querySelector(".num-amount"),allCheckBox=document.querySelectorAll(".button-cart-check"),eachSumPrice=document.querySelectorAll(".cart-number-total-price"),eachShippingFee=document.querySelectorAll(".cart-shipping-fee"),isSoldout=document.querySelectorAll(".input-quantity");for(let i=0;i<allCheckBox.length;i++)allCheckBox[i].addEventListener("click",()=>{calc(),editChecked()});function calc(){let priceSum=0;for(let i=0;i<eachSumPrice.length;i++)priceSum+=Number(allCheckBox[i+1].className.includes("fill")&&eachSumPrice[i].innerText.replace(",",""));numCartSum.innerText=`${priceSum.toLocaleString("ko-KR")}원`;let discount=Number(numCartMinus.innerText.replace("원","")),shippingSum=0;for(let i=0;i<eachShippingFee.length;i++)shippingSum+=!("0"===isSoldout[i].value)&&Number(allCheckBox[i+1].className.includes("fill")&&eachShippingFee[i].innerText.replace(/\D/g,""));numCartSumShipping.innerText=`${shippingSum.toLocaleString("ko-KR")}원`,numAmount.innerText=`${(priceSum-discount+shippingSum).toLocaleString("ko-KR")}원`}calc();const cartQtButton=document.querySelectorAll(".style-wrapper-quantity.cart"),modalForQt=document.querySelector(".change-modal-group").childNodes,modalForDelete=document.querySelector(".delete-modal-group").childNodes,stock=document.querySelectorAll(".cart-num-stock");for(let i=0;i<cartQtButton.length/2;i++)cartQtButton[i].addEventListener("click",()=>{if("0"!==stock[i].innerText&&modalForQt[i].classList.add("show"),modalForQt[i].classList.contains("show")){const body=document.querySelector("body");body.style.overflow="hidden"}});const cartCloseButton=document.querySelectorAll(".button-close-cart");for(let i=0;i<cartCloseButton.length;i++)cartCloseButton[i].addEventListener("click",()=>{if(modalForDelete[i].classList.add("show"),modalForDelete[i].classList.contains("show")){const body=document.querySelector("body");body.style.overflow="hidden"}});function editChecked(){const fromCartItems=JSON.parse(window.localStorage.getItem("fromCartItems"));for(let i=0;i<allCheckBox.length-1;i++)allCheckBox[i+1].className.includes("fill")?(fromCartItems[i].checked="true",window.localStorage.setItem("fromCartItems",JSON.stringify(fromCartItems))):(fromCartItems[i].checked="false",window.localStorage.setItem("fromCartItems",JSON.stringify(fromCartItems)))}